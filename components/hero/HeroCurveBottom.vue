<template>
    <figure class="cg-hero-curve">
      <svg class="curv" preserveAspectRatio="none"  viewBox="0 0 1400 190" enable-background="new 0 0 1400 190" xml:space="preserve">
        <path  d="M16.3,118c5.2,7,11,14.7,17.1,23.1c30.8,42.6,54.2,33.2,94.2,17.2c16.5-6.6,35.8-14.3,59.5-20c39.3-9.7,57.8-0.6,78.7,9.8 c17.3,8.6,36.2,17.9,69.9,17.9c37.4,0,56.1-17.8,74.7-35.5c18.6-17.7,37.2-35.4,74.3-35.4c37.4,0,56.1-1.7,74.7-3.4 c18.6-1.7,37.2-3.4,74.3-3.4c37.4,0,56.1,1.4,74.7,2.8c18.6,1.4,37.2,2.8,74.3,2.8c37.1,0,55.7,4.2,74.3,8.3 c18.6,4.2,37.1,8.3,74.3,8.3c37.1,0,55.7,10.2,74.3,20.4c18.6,10.2,37.1,20.4,74.3,20.4c37.1,0,55.7,6.2,74.3,12.5 c18.6,6.2,37.1,12.5,74.3,12.5c19,0,35.6,1.7,50.5,3.3c43.1,4.5,71.8,7.4,104.4-37.3c36.3-50,58.3-97.1,56.7-142.3h0.1v190H0V95.7 C4.8,102.5,10.2,109.8,16.3,118" />
      </svg>
    </figure>
</template>

<script type="text/javascript">
   export default {
      data() {
        return {
          curveCount: 1
        }
      },
      watch: {
        $route() {
          if (this.curveCount === 3) {
            this.curveCount = 1;
          } else {
            this.curveCount ++
          }
          this.animateCurve();
        },
      },
      methods: {

        animateCurve() {
          const anime = this.$anime

          const
          curve1 = "M16.3,118c5.2,7,11,14.7,17.1,23.1c30.8,42.6,54.2,33.2,94.2,17.2c16.5-6.6,35.8-14.3,59.5-20c39.3-9.7,57.8-0.6,78.7,9.8 c17.3,8.6,36.2,17.9,69.9,17.9c37.4,0,56.1-17.8,74.7-35.5c18.6-17.7,37.2-35.4,74.3-35.4c37.4,0,56.1-1.7,74.7-3.4 c18.6-1.7,37.2-3.4,74.3-3.4c37.4,0,56.1,1.4,74.7,2.8c18.6,1.4,37.2,2.8,74.3,2.8c37.1,0,55.7,4.2,74.3,8.3 c18.6,4.2,37.1,8.3,74.3,8.3c37.1,0,55.7,10.2,74.3,20.4c18.6,10.2,37.1,20.4,74.3,20.4c37.1,0,55.7,6.2,74.3,12.5 c18.6,6.2,37.1,12.5,74.3,12.5c19,0,35.6,1.7,50.5,3.3c43.1,4.5,71.8,7.4,104.4-37.3c36.3-50,58.3-97.1,56.7-142.3h0.1v190H0V95.7 C4.8,102.5,10.2,109.8,16.3,118",
          curve4 = "M16.3,118c5.2,7,7.8,34.2,18.1,36c24.9,4.4,24.5-13.6,43.5-22c16.3-7.1,29.5,0.3,53.3-5.4c39.3-9.7,64.7-23.5,85.5-13.2 c17.3,8.6,18.1,35.2,51.8,35.2c37.4,0,52.8-4.4,69.9-17.1c43.6-32.4,65,15.6,110.4,6.8c36.7-7.1,72.2,11.5,90.9,9.8 c18.6-1.7,42.6,16.1,79.6,16.1c37.4,0,79.1-12.7,95.3-22c23-13.2,22-42,59.1-42c37.1,0,148.5,39.3,167.1,43.5 c18.6,4.2,29.8-19.1,55.2-14.2c15.7,3,18,15,29.3,22.5c17.6,11.7,32.2-5.4,69.4-5.4c37.1,0,30.3,5,48.9,11.2 c18.6,6.2,30.8-10.7,67.9-10.7c19,0,45.6,6.7,60.1,2.9c29.1-7.6,41.1-7.2,92.8-26.9c41-15.6,77.1-78,75.5-123.2h0.1v190H0V95.7 C4.8,102.5,10.2,109.8,16.3,118",
          curve2 = "M19.2,130.1c5.2,7,15.6,27.9,27.9,32.7c23.5,9.4,23,21.5,42,13.2c16.3-7.1,33.4-23.7,57.2-29.3 c39.3-9.7,45.6-19.3,67.9-19.1c19.3,0.2,20.5,21,54.2,21c37.4,0,52.8-4.4,69.9-17.1c43.6-32.4,63.5-61.6,109-70.4 c36.7-7.1,49.8,18.6,101.2,16.5c18.7-0.8,38.2,4.5,75.3,4.5c37.4,0,32-18.4,50.7-18.6c19.1-0.2,62.1,36.6,99.2,36.6 c37.1,0,148.5,39.3,167.1,43.5c18.6,4.2,29.8,0,55.2,4.9c15.7,3,18-4.1,29.3,3.4c17.6,11.7,37.1,2,74.3,2c37.1,0,25.4-2.3,44,3.9 c18.6,6.2,28.8-5.9,66-5.9c19,0,47.6,1.8,62.1-2c29.1-7.6,47,21.2,98.7,1.5c41-15.6,71.2-106.4,69.6-151.6h0.1v190H0V95.7 c4.8,6.7,10.2,14.1,16.3,22.2",
          curve3 = "M19.2,130.1c5.2,7,2.9,37.1,15.1,42c23.5,9.4,26.9-24.9,45.9-33.2c16.3-7.1,35.8,21.8,59.6,16.1 c39.3-9.7,54.9,23.2,77.2,23.5c19.3,0.2,34.2-40.1,67.9-40.1c37.4,0,51.3-33.7,68.4-46.4c43.6-32.4,62.5,39.1,108,30.3 c36.7-7.1,81.1-47.8,132.4-49.8c18.7-0.8,43,8.8,80.1,8.8c37.4,0,53.4-8.2,72.1-8.3c19.1-0.2,42.9,4.4,76.5,20.1 c35.7,16.6,72.3,9,90.9,13.2c18.6,4.2,58.6,8.8,84,13.7c15.7,3,15.1,32.6,26.4,40.1c17.6,11.7,38.6-20,75.7-20 c37.1,0,23.5,20.2,42,26.4c18.6,6.2,47.9-21,85-21c19,0,83.7,22.3,98.2,18.6c29.1-7.6,16.2-64.8,67.9-84.5 c41-15.6,48.7-34.1,47.2-79.3h0.1v190H0V95.7c4.8,6.7,10.2,14.1,16.3,22.2"



          if (this.curveCount === 1) {
            anime({
              targets: '.curv > path',
              easing: 'easeOutQuint',
              duration: 3000,
              loop: false,
              d: [
                { value: curve2 }
              ],
            })
          } else if (this.curveCount === 2)  {
            anime({
              targets: '.curv > path',
              easing: 'easeOutQuint',
              duration: 3000,
              loop: false,
              d: [
                { value: curve3 }
              ],
            })
          } else  {
            anime({
              targets: '.curv > path',
              easing: 'easeOutQuint',
              duration: 3000,
              loop: false,
              d: [
                { value: curve1 }
              ],
            })
          }

        }
      },
      mounted() {
        this.animateCurve()
      }
    };
</script>

<style lang="scss">

  .cg-hero-curve {

    position: absolute;
    left: 0;
    bottom: 0;
    width: 100vw;
    transition: all .5s ease;
    height: 100%;
    transform: translateY(100%);

      &:after {
        content: '';
        top: -1px;
        left: 0;
        width: 100%;
        height: 102%;
        background: #fff;
        position: absolute;
        z-index: 1;
        transition: all 1s ease;
      }

      svg {
        transition: fill 1s ease;
        fill: #fff;
        width: 110vw;
        transform: translate(-5vw , -90px);
        height: 90px;
      }


    // 600
    @media only screen and (min-width: 600px) {
      svg {
        height: 160px;
        transform: translate(-5vw , -160px);
      }
    }


    // 1024
    @media only screen and (min-width: 1024px) {
      svg {
        height: 210px;
        transform: translate(-5vw , -210px);
      }
    }

    // 1280
    @media only screen and (min-width: 1280px) {
      svg {
        height: 300px;
        transform: translate(-5vw , -300px);
      }
    }


  }

</style>



